<%- include('partials/header', { title: 'My Notes' }); %>
<!-- [
  {
    _id: '67f1e22e5a4e13df346b140b',
    title: 'My First Note',
    content: 'This is the content of my note.\nIt can span multiple lines.',
    tags: [ 'personal', 'ideas' ],
    isPinned: false,
    createdAt: 2025-04-06T02:00:00.000Z,
    updatedAt: 2025-04-06T02:05:00.000Z,
    coverPath: '/images/default_cover.jpg'
  }
] -->
<body class="bg-gray-100 font-sans">

<div class="container mx-auto p-4 md:p-8">
    <h1 class="text-3xl font-bold mb-4 text-gray-800"><%= typeof title !== 'undefined' ? title : 'My Notes' %></h1>

    <div class="max-w-xl mx-auto mb-12">
        <%- include('partials/create_note'); %>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
    <%# Check if notes exists and is an array %>
    <% if (typeof notes !== 'undefined' && Array.isArray(notes) && notes.length > 0) { %>
        <%# Loop through each note %>
        <% notes.forEach(note => { %>
            <%# Render note partial %>
            <%- include('partials/note', { note }); %>
        <% }); %>
    <% } else { %>
        <%# Display message if no notes are available %>
        <p class="text-gray-600 md:col-span-2 lg:col-span-3 text-center">No notes found.</p>
    <% } %>
    </div>
</div>

<script src="/js/notes.js"></script>
</body>
</html>